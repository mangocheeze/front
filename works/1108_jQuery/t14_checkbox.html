<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>checkBox연습</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    'use strict';
    
    //name이 같고 id가없을때 (each사용)-1
    $(function(){
      $('.container input[name="choiceBtn1"]').click(function(){  //id 대신 name을 호출하는방법 해당 폼태그에 접근 []
        //each()
        let fruitArray = [];
        $('.container input[class="fruit"]').each(function(i, item){  //class로 접근( name="fruit"로 접근해도됨)
          if($(item).is(':checked')) {  //0번째부터 비교한데이터가 체크되어있는거랑 같으면 //:는 =의 의미, is()는 같을경우적용이라는뜻
          //   $(item).css('outline', '1px solid red');
            fruitArray.push($(item).val()); //체크된 val를 배열에 담겠다 //val: value()를 축약함
          // }
          // else {
          //   $(item).css('outline', '0px solid red');
          }
        });
        $('#demo').html(fruitArray.join('/'));
      });

      //map()사용 -2
      $('.container input[name="choiceBtn2"]').click(function(){
        // map() : 반복함
        let fruitArr2 = $('.container input[class="fruit"]').map(function(i, item){
          if($(item).is(':checked')) {
            return $(item).val();
          }
        }).get().join("/");  //map에서는 get()으로읽는데 구분자는 join("/")으로 줘라 (join쓸때는 꼭 get도 있어야함)
        $('#demo').html(fruitArr2); //마지막 /는 알아서 빠짐
      });
    });



    

  </script>
</head>
<body>
<p><br/></p>
<div class="container">
  <h2>좋아하는 과일은</h2>
  <form name="myform">
    <p>
      <input type="checkbox" name="fruit" value="사과" class="fruit"/>1.사과 &nbsp;
      <input type="checkbox" name="fruit" value="배" class="fruit"/>2.배&nbsp;
      <input type="checkbox" name="fruit" value="바나나" class="fruit"/>3.바나나&nbsp;
      <input type="checkbox" name="fruit" value="키위" class="fruit"/>4.키위&nbsp;
      <input type="checkbox" name="fruit" value="포도" class="fruit"/>5.포도&nbsp;
      <input type="checkbox" name="fruit" value="수박" class="fruit"/>6.수박&nbsp;
      <input type="checkbox" name="fruit" value="참외" class="fruit"/>7.참외&nbsp;
      <input type="checkbox" name="fruit" value="딸기" class="fruit"/>8.딸기
    </p>
    <p>
      <input type="button" value="선택1(each)" name="choiceBtn1" class="btn btn-success"/> <!--onclick안넣고 name을 넣음(name가지고 제어해보려고)-->
      <input type="button" value="선택2(map)" name="choiceBtn2" class="btn btn-success"/> <!--onclick안넣고 name을 넣음(name가지고 제어해보려고)-->
    </p>
  </form>
  <hr/>
  <div id="demo"></div>
</div>
<p><br/></p>
</body>
</html>